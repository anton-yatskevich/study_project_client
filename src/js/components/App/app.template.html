<div ng-if="AppCtrl.isLoading" class="spinner-wrapper">
    <div class="spinner"></div>
</div>
<div ng-if="!AppCtrl.isLoading && !AppCtrl.isVisibleForm" class="app-cotainer" resize="AppCtrl.setDeviceType(width)">
    <h3>We have found {{(AppCtrl.cards | cardType:AppCtrl.cardType).length }} {{AppCtrl.cardType.value}} cards</h3>
    <card-type-select
        types="AppCtrl.cardTypes"
        selected-type="AppCtrl.cardType"
        on-change="AppCtrl.setCardType(type)" >
    </card-type-select>
    <sort-type-select
        types="AppCtrl.sortTypes"
        selected-type="AppCtrl.sortType"
        on-change="AppCtrl.setSortType(type)" 
        is-filled-user-info="AppCtrl.isFilledForm" >
    </sort-type-select>
    <notification
        closed-by-app="AppCtrl.isFilledForm"
        show-modal-window="AppCtrl.showModalWindow(true)" >
    </notification>
    <card-list
        cards="AppCtrl.cards"
        sort-type="AppCtrl.sortType"
        card-type="AppCtrl.cardType"
        cost-amount="AppCtrl.costAmount"
        cost-in-month="AppCtrl.costInMonth"
        device="AppCtrl.deviceName"
        is-filled-user-info="AppCtrl.isFilledForm" 
        annual-income="AppCtrl.annualIncome">
    </card-list>
</div>
<modal-window 
    ng-if="AppCtrl.isVisibleForm"
    close-modal-window="AppCtrl.showModalWindow(false)"
    fill-form="AppCtrl.fillUserInfo()" >
    <card-type-select
        types="AppCtrl.cardTypes"
        selected-type="AppCtrl.cardType"
        on-change="AppCtrl.setCardType(type)" >
    </card-type-select>
</modal-window>
